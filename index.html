<html>
    <head>
        <script src="web_crypto_api.js"></script>
        <script>
        // Use above to encrypt and then decrypt payload
        init_vector = window.crypto.getRandomValues(new Uint8Array(16));
        encrypt_with_passphrase("my_secret_password", init_vector, "very secret text to be encrypted").then(
            function(enc){
                decrypt_with_passphrase("my_secret_password", init_vector, enc).then(
                    function(decrypted_payload){
                        document.getElementById("my_id_01").innerHTML = decrypted_payload;
                    }
                    ,function(e){
                        console.error(e);
                    }
                );
            }
            ,function(e){
                console.error(e);
            }
        );

        </script>
    </head>
    <body>
        <p id="my_id_01"></p>
    </body>
</html>
